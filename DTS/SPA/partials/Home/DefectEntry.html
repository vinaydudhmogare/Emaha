
<form name="myForm" ng-submit="submitForm(myForm.$valid)" class="form-horizontal col-md-12 col-lg-12 col-sm-12 col-xs-12" novalidate>


    <div class="container">
       
            <div class="panel-heading" id="colour"><h4 id="heading">Add Defect Here:</h4></div>
           
        <br/>
                <!--For loading partials into shell class-->
                <div class="form-group row" ng-class="{ 'has-error' : myForm.Title.$invalid && !myForm.Title.$pristine }">
                    <label class="control-label col-md-4" style="text-align:left">Title:</label>
                    <div class="col-lg-8">
                        <input type="text" ng-pattern="/^(\D)+$/" class=" form-control col-md-2" name="Title" ng-model="Defect.Title" placeholder="Title" required><br />
                        <p ng-show="myForm.Title.$invalid && !myForm.Title.$pristine" class="help-block">Title is required Text only, please.</p>

                    </div>
                </div>


                <div class="form-group row" ng-class="{ 'has-error' : myForm.SmallDescription.$invalid && !myForm.SmallDescription.$pristine }">
                    <label class="control-label col-md-4" style="text-align:left">Small Description:</label>
                    <div class="col-lg-8">
                        <input type="text" ng-minlength="3" ng-maxlength="20" ng-pattern="/^(\D)+$/" class="form-control input-md" name="SmallDescription" ng-model="Defect.SmallDescription" placeholder="SmallDescription" required><br />
                        <p ng-show="myForm.SmallDescription.$invalid && !myForm.SmallDescription.$pristine" class="help-block">Small Description is required Text only, please.</p>
                        <p ng-show="myForm.SmallDescription.$error.minlength" class="help-block">SmallDescription is too short minimum length is 3.</p>
                        <p ng-show="myForm.SmallDescription.$error.maxlength" class="help-block">SmallDescription is too long maximum length is 20.</p>

                    </div>
                </div>


                <div class="form-group row" ng-class="{ 'has-error' : myForm.LongDescription.$invalid && !myForm.LongDescription.$pristine }">
                    <label class="control-label col-md-4" style="text-align:left">Large Description:</label>
                    <div class="col-lg-8">
                        <textarea ng-minlength="50" ng-maxlength="500" rows="10" cols="12" class="form-control input-md" name="LongDescription" ng-model="Defect.LongDescription" placeholder="Large Description" required></textarea>
                        <p ng-show="myForm.LongDescription.$invalid && !myForm.LongDescription.$pristine" class="help-block">Long Description is required </p>
                        <p ng-show="myForm.LongDescription.$error.minlength" class="help-block">Long Description is too short minimum length is 50.</p>
                        <p ng-show="myForm.LongDescription.$error.maxlength" class="help-block">Long Description is too long maximum length is 500.</p>

                    </div>
                </div>



                <div class="form-group row">
                    <label class="control-label col-md-4" style="text-align:left">Publish Date</label>
                    <div class="col-lg-4">
                        <div class="form-group" ng-class="{ 'has-error' : myForm.StartDate.$invalid && !myForm.StartDate.$pristine }">
                            <div class='input-group date' data-provide="datepicker">
                                <input type='text' class="form-control" ng-model="Defect.StartDate" style="margin-left:15px;" />
                                <span class="input-group-addon">
                                    <span class="glyphicon glyphicon-calendar"></span>
                                </span>
                                <p ng-show="myForm.StartDate.$invalid && !myForm.StartDate.$pristine" class="help-block">Start Date is required</p>

                            </div>
                        </div>
                        <!--<input class="datepicker" data-date-format="mm/dd/yyyy" ng-model="Project.EndDate"></><br />-->
                    </div>

                    <div class="col-lg-4 pull-right">
                        <div class="form-group" ng-class="{ 'has-error' : myForm.StartDate.$invalid && !myForm.StartDate.$pristine }">
                            <div class='input-group date' data-provide="datepicker">
                                <input type='text' class="form-control" ng-model="Defect.ExpireyDate" style="margin-left:15px;" />
                                <span class="input-group-addon">
                                    <span class="glyphicon glyphicon-calendar"></span>
                                </span>
                                <p ng-show="myForm.ExpireyDate.$invalid && !myForm.ExpireyDate.$pristine" class="help-block">Expirey Date is required</p>

                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group row" ng-class="{ 'has-error' : myForm.ProjectID.$invalid && !myForm.ProjectID.$pristine }">
                    <label class="control-label col-md-4" style="text-align:left">Project:</label>
                    <div class="col-lg-8">
                        <select ng-model="Defect.ProjectID" ng-options="c.ID as c.Title for c in ParentProjects" name="ProjectID" class="form-control" required>
                            <option label="Select------"></option>
                        </select>
                        <p ng-show="myForm.ProjectID.$invalid && !myForm.ProjectID.$pristine" class="help-block">Project Name is required.</p>

                    </div>
                </div>


                <div class="form-group row" ng-class="{ 'has-error' : myForm.Assign.$invalid && !myForm.Assign.$pristine }">
                    <label class="control-label col-md-4" style="text-align:left">Assign:</label>
                    <div class="col-lg-8">
                        <select class="form-control input-md" name="Assign" required>
                            <option>Assign 1</option>
                            <option>Assign 2</option>
                            <option>Assign 3</option>
                        </select>
                        <p ng-show="myForm.Assign.$invalid && !myForm.Assign.$pristine" class="help-block">Assign is required</p>

                    </div>
                </div>



        <div class="form-group row" ng-class="{ 'has-error' : myForm.PriorityID.$invalid && !myForm.PriorityID.$pristine }">
            <label class="control-label col-md-4" style="text-align:left">Priority:</label>
            <div class="col-lg-8">
                <select class="form-control input-md" ng-model="Defect.PriorityID" ng-options="st.ID as st.Priorityy for st in priority" name="Priority">
                    <option label="Select------"></option>
                </select>
                <p ng-show="myForm.PriorityID.$invalid && !myForm.PriorityID.$pristine" class="help-block">Priority is required</p>

            </div>
        </div>




        <div class="form-group row" ng-class="{ 'has-error' : myForm.StatusID.$invalid && !myForm.StatusID.$pristine }">
            <label class="control-label col-md-4" style="text-align:left">Status:</label>
            <div class="col-lg-8">
                <select class="form-control input-md" ng-model="Defect.StatusID" ng-options="pt.ID as pt.Status for pt in status" name="Priority">
                    <option label="Select------"></option>
                </select>
               
                <p ng-show="myForm.StatusID.$invalid && !myForm.StatusID.$pristine" class="help-block">status is required</p>

            </div>
        </div>





                <div class="form-group row" ng-class="{ 'has-error' : myForm.Watcher.$invalid && !myForm.Watcher.$pristine }">
                    <label class="control-label col-md-4" style="text-align:left">Watcher:</label>
                    <div class="col-lg-8">
                        <select class="form-control input-md" name="Watcher" required>
                            <option>Watcher 1</option>
                            <option>Watcher 2</option>
                            <option>Watcher 3</option>
                        </select>
                        <p ng-show="myForm.Watcher.$invalid && !myForm.Watcher.$pristine" class="help-block">Priority is required</p>

                    </div>
                </div>

                <div class="form-group row">
                    <label class="control-label col-md-4" style="text-align:left">Attachment:</label>
                    <div class="col-lg-8">
                        <div class="input-group">
                            <span class="input-group-btn">
                                <span class="btn btn-primary btn-file">
                                    Browse...<input type="file" multiple my-directory="getFiles(file)" ng-disabled="uploading" />
                                </span>

                            </span>
                            <input type="text" ng-model="countFiles" class="form-control" readonly>
                        </div>
                      
                        <div ng-repeat="file in data ">
                            {{file.FileName  + '  ' + file.FileLength + ' bytes'  }}
                        </div>
                       

                    </div>
                </div>
            </div>



    <div class="form-group row">
        <div class="control-label col-md-2"></div>
        <div class="col-lg-8">
            <button type="button" ng-click="SaveDefect(Defect)" ng-disabled="myForm.$invalid" class="btn btn-primary btn-lg btn-outline btn-rounded">Save</button>
            <button type="reset" class="btn btn-primary btn-lg btn-outline btn-rounded">Cancel</button>
        </div>
    </div>

</form>